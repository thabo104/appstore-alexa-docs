<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Uploading Your Catalog to Amazon | Fire TV Catalog</title>
    
    <base target="_self">
    <meta name="description" content="This page describes how to validate and upload your Catalog Data Format (CDF) file to Amazon’s AWS S3 bucket for catalog ingestion. Amazon strongly recommends validating your CDF file before... " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" value="notranslate">
    <link rel="icon"  type="image/x-icon" href="favicon.ico">
<!--
    Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance with the License. A copy of the License is located at http://aws.amazon.com/apache2.0/ or in the "license" file accompanying this file. This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. This site also includes third-party software subject to various copyrights. The licenses for these third party components are referenced in the NOTICE file.
-->

    <!-- FontAwesome -->
   <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <!-- jQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <!-- Navgoco -->
    <script type="text/javascript" src="assets/js/jquery.navgoco.min.js"></script>
    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Anchor JS -->
    
        <script src="assets/js/anchor.min.js"></script>
    

    <script>
        $( document ).ready(function() {
            $("#docnavsidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'open', // open
                save: true,
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 300,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', true);
            });
        });

    </script>
    <script src="assets/js/customscripts.js"></script>

    <script>
        $(document).ready(function() {
            $('[data-toggle=offcanvas]').click(function() {
                $('.row-offcanvas').toggleClass('active');
            });
        });
    </script>


    <!--Bootstrap -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <style>
        ul#markdown-toc::before  {
        content: "Table of Contents"
         }
    </style>

</head>
<body class="default">
<div class="page-container">


    <!-- Top Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container topnavlinks">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="fa fa-bars fa-2x"></span>
                </button>
                <button type="button" class="navbar-toggle toggle-sidebar-button"  data-toggle="offcanvas" data-target=".sidebar-nav">
                    <span class="sidebarToggle fa fa-columns fa-2x"></span>
                </button>

                <a class="navbar-brand noCrossRef" href="https://developer.amazon.com/">
                    <img class="navbar-logo" src="amazonlogowhite.png"/>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">

                    <!-- single item nav items appear here -->

                    
                    
                    
                    
                    <li><a href="index.html">Documentation Home</a></li>
                    
                    
                    <li><a href="https://github.com/amzn/appstore-alexa-docs/issues" class="noCrossRef">Log Doc Issue</a></li>
                    <li><a target="_blank" href="https://github.com/amzn/appstore-alexa-docs/blob/github-docs/_docs/firetv/catalog/uploading-your-catalog.md" class="editButton noCrossRef"><i class="fa fa-github fa-lg"></i> Edit on GitHub</a></li>
                    
                    <li><a href="https://forums.developer.amazon.com/spaces/43/index.html" class="editButton noCrossRef">Fire TV Forum</a></li>
                    
                    
                    

                    <!-- drop-down nav items appear here -->

                    


                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <!--start search -->
                        <!--
                        <div id="search-demo-container">
                            <form action="search.html" method="get">
                                <input type="text" id="search-input" placeholder="Global Search ..." name="query">
                            </form>
                        </div>
                        -->
                        <!-- end search-->
                    </li>
                </ul>
            </div>

        </div>


        <!-- /.container -->
    </nav>



<div class="container">
        <div class="row row-offcanvas row-offcanvas-left">

            <!-- sidebar -->
            <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">

                


<div class="mydocsidebar">
<div class="sidebar-inner">
<!-- search bar - uses Lunr.js  -->

<div class="sidebarSearchBar">
<form action="search-catalog.html" method="get">
  <div class="input-group search">
    <input type="text" id="search-box" name="query" class="form-control" placeholder="Product Search ...">
    <div class="input-group-btn">
      <button class="btn btn-default" type="submit" value="search">
        <i class="glyphicon glyphicon-search"></i>
      </button>
    </div>
  </div>
</form>
</div>

<!-- end search bar -->


<div class="productTitle">Fire TV Catalog Integration</div>
<p class="external">
    <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
</p>



    <ul id="docnavsidebar" class="docnav">
    
    <li class="level1"><a href="#">Getting Started</a>
        <ul>
            

            
            
            <li class="level1items"><a href="integrating-your-catalog-with-fire-tv.html">Catalog Integration Overview</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="understanding-fire-tv-catalog-integration.html">Understanding Catalog Integration</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="getting-started-catalog-integration.html">Getting Started with Catalog Integration</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="about-the-cdf.html">About the Catalog Data Format (CDF)</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="setting-up-your-aws-account-for-fire-tv-catalog-integration.html">Setting Up Your AWS Account</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-catalog-integration-faqs.html">Catalog Integration FAQs</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Integration</a>
        <ul>
            

            
            
            <li class="level1items open"><a href="uploading-your-catalog.html">Uploading Your Catalog</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="receiving-and-understanding-the-catalog-ingestion-report.html">Catalog Ingestion Reports</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="launcher-integration.html">Integrating with the Launcher</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="test-cases-for-verifying-deep-links-from-your-fire-tv-catalog.html">Verifying Fire TV Deep Links</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Testing</a>
        <ul>
            

            
            
            <li class="level1items"><a href="testing-launcher-integration-with-adb.html">Testing Launcher Integration with ADB</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="testing-launcher-integration-with-the-test-app.html">Testing Launcher Integration with the Test App</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="catalog-data-format-ingestion-report-messages.html">Ingestion Report Messages</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Migration</a>
        <ul>
            

            
            
            <li class="level1items"><a href="migrating-a-cdf-file-to-the-latest-version.html">Migrating CDF Versions</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Catalog Data Format Reference</a>
        <ul>
            

            
            
            <li class="level1items"><a href="catalog-data-format-schema-reference.html">CDF Schema Reference</a></li>
            
            

            

            

            
            
            <li class="level1items"><a  class="noCrossRef" href="https://s3.amazonaws.com/com.amazon.aftb.cdf/catalog.xsd">CDF Schema Definition (XSD)</a></li>
            
            

            

            

            
            
            <li class="level1items"><a  class="noCrossRef" href="https://s3.amazonaws.com/com.amazon.aftb.cdf/cdf-examples.zip">CDF Examples (ZIP)</a></li>
            
            

            

            
        </ul>

        

    </li>
</ul>

<hr class="resourceSeparator"></hr>
<div class="relatedResources">Other Resources</div>
<ul id="entrypages">
        
        <li><a class="noCrossRef" href="/getting-started-developing-apps-and-games-for-amazon-fire-tv.html">Fire TV</a></li>
        
        <li><a class="noCrossRef" href="/fire-app-builder-overview.html">Fire App Builder</a></li>
        
        <li><a class="noCrossRef" href="/setting-up-your-development-environment-for-fire-tablets.html">Fire Tablets</a></li>
        
        <li><a class="noCrossRef" href="/fire-os-overview.html">Fire OS</a></li>
        
        <li><a class="noCrossRef" href="/environment.html">HTML5 Web API</a></li>
        
        <li><a class="noCrossRef" href="/appstore-understanding-submission">Appstore Publishing</a></li>
        
        <li><a class="noCrossRef" href="/getting-started-with-iap">In-App Purchasing API</a></li>
        
        <li><a class="noCrossRef" href="/understanding-the-amazon-fling-service">Fling SDK</a></li>
        
        <li><a class="noCrossRef" href="/obtaining-an-access-token-for-the-developer-publishing-api">Developer Publishing API</a></li>
        
        <li><a class="noCrossRef" href="">Developer Portal Forums</a></li>
        
    </li>
</ul>
</div>
</div>
<script>$("li.open").parents('li').toggleClass("open");</script>






            </div>

            <!-- main area -->
            <div class="col-xs-12 col-sm-9 main">

                    <div class="subtitle"><a href="http://developer.amazon.com" class="noCrossRef productSubtitle"> Home</a> > <a href="index.html" class="noCrossRef productSubtitle"> Documentation</a> > Fire TV Catalog </div>

                    <h1>Uploading Your Catalog to Amazon</h1>

                    <p>This page describes how to validate and upload your Catalog Data Format (CDF) file to Amazon’s AWS S3 bucket for catalog ingestion. Amazon strongly recommends validating your CDF file before attempting to upload; please include a validation step as part of your upload process.</p>

<ul id="markdown-toc">
  <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li>
  <li><a href="#validating-your-cdf-file" id="markdown-toc-validating-your-cdf-file">Validating Your CDF File</a></li>
  <li><a href="#uploading-your-cdf-file" id="markdown-toc-uploading-your-cdf-file">Uploading Your CDF File</a>    <ul>
      <li><a href="#example-workflow" id="markdown-toc-example-workflow">Example Workflow</a></li>
    </ul>
  </li>
  <li><a href="#additional-resources-for-aws" id="markdown-toc-additional-resources-for-aws">Additional Resources for AWS</a></li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>

<p>Before uploading your catalog to Amazon, you will need to set up your AWS account, and give your 12-digit AWS Account ID to your Amazon Fire TV representative. Your Fire TV representative will create your AWS S3 bucket for catalog ingestion and provide you with access to your bucket.</p>

<p>Because Amazon creates the S3 bucket, the bucket will not appear in your AWS S3 console. However, you should be able to access the bucket via the Command Line Interface (CLI) to view the bucket contents and upload files to the bucket. The commands used to interact with your S3 bucket are given in the next sections of this page.</p>

<p>See <a href="setting-up-your-aws-account-for-fire-tv-catalog-integration.html">Setting Up Your AWS Account for Fire TV Catalog Integration</a> for details.</p>

<h2 id="validating-your-cdf-file">Validating Your CDF File</h2>

<p>Amazon highly recommends validating your CDF file before uploading the file to AWS. Validating your file locally can help catch errors that would prevent the file from being successfully ingested and integrated with the Fire TV catalog. Validate your CDF file against the schema provided in Amazon’s CDF XSD file: <a href="https://s3.amazonaws.com/com.amazon.aftb.cdf/catalog.xsd">CDF XSD file</a>.</p>

<p>Note that XML validation tools can only check that your XML is well-formed (for example, no broken or missing tags) and valid against the CDF schema (for example, no incorrectly nested elements). While XML validation should catch the most common errors in your CDF file, your CDF file could still contain errors that are not caught until the file is uploaded to AWS.</p>

<p>Use an XML validation tool to validate your CDF file. While Amazon does not provide an XML validation tool, you can easily obtain one at no cost from a variety of sources:</p>

<ul>
  <li>If you created or edited your CDF file using an IDE, your IDE might have a built-in XML validation tool.</li>
  <li>On a Mac or Linux, use the <a href="http://xmlsoft.org/xmllint.html">xmllint</a> utility. Your Mac or Linux computer should come with these utilities already installed as part of the OS.</li>
  <li>On Windows, a number of free XML validation tools are available for download.</li>
</ul>

<p>To use xmllint to validate your CDF file:</p>

<ol>
  <li>Download the <a href="https://s3.amazonaws.com/com.amazon.aftb.cdf/catalog.xsd">CDF XSD file</a> and copy or move this file to the same directory as the CDF file that you previously created.</li>
  <li>Open a terminal window (or a command window in Windows) to access your computer’s command line interface.</li>
  <li>
    <p>At the shell prompt, type the following command:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>$ xmllint --schema catalog.xsd --noout &lt;cdf_file_name&gt;.xml
</code></pre>
    </div>

    <p>The <code class="highlighter-rouge">$</code> represents the shell prompt. Replace <code class="highlighter-rouge">&lt;cdf_file_name&gt;</code> with the actual name of your CDF file. The <code class="highlighter-rouge">--noout</code> option suppresses extra output as xmllint traverses your XML file. When finished, xmllint will report any errors that it found in your file or will report that your XML file is valid against the specified schema.</p>
  </li>
</ol>

<h2 id="uploading-your-cdf-file">Uploading Your CDF File</h2>

<p>Your catalogs are contained in a <code class="highlighter-rouge">catalogs</code> folder inside the S3 bucket for your catalog bucket. Use any S3 tool to upload your catalog file to this bucket and folder.</p>

<p>To upload a CDF file to an S3 bucket:</p>

<ol>
  <li>
    <p>Type the following command, substituing your CDF file name for &lt;catalog_file_name.xml&gt; and S3 bucket name for &lt;s3_bucket_name&gt;. Note that the <code class="highlighter-rouge">--acl bucket-owner-full-control</code> option is required so that Amazon will be able to read the file that you upload upload, and thus ingest your catalog.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>$ aws s3api put-object --body &lt;catalog_file_name.xml&gt; --bucket &lt;s3_bucket_name&gt; --key catalogs/catalog.xml --region us-east-1 --acl bucket-owner-full-control
</code></pre>
    </div>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Make sure that if you copy-and-paste this command into a terminal window that the <code class="highlighter-rouge">--</code> characters paste as double-dashes and not as an n-dash.</div>

    <p>This command successfully uploads files up to 2GB in size. If successful, the AWS CLI will display a set of tags for the VersionID, ETag, and Expiration for the file.</p>
  </li>
  <li>
    <p>Verify that you see your catalog file in your S3 bucket. Type the following command to list all files in your S3 bucket:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>$ aws s3 ls s3://&lt;s3_bucket_name&gt;/catalogs/ --region us-east-1
</code></pre>
    </div>

    <p>You may upload multiple catalogs to the catalog bucket, but Amazon only uses the most recently uploaded catalog, regardless of its name. If you find a problem with your catalog, or need to update the data in the CDF file, just upload a new file.</p>
  </li>
</ol>

<h3 id="example-workflow">Example Workflow</h3>

<p>The following example command uploads a catalog file named <code class="highlighter-rouge">my-catalog.xml</code> to an S3 bucket named <code class="highlighter-rouge">cdf-bucket</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ aws s3api put-object --body my-catalog.xml --bucket cdf-bucket --key catalogs/catalog.xml --region us-east-1 --acl bucket-owner-full-control
</code></pre>
</div>

<p>This command returns the following sample output:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"VersionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m_QwgKPy9RJZsWperU_LEULD1waJE2He"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ETag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"\"e8c38d5258ad1f3b241ae2ce347e40bc\""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"expiry-date=\"Fri, 06 Jan 2017 00:00:00 GMT\", rule-id=\"Rule for the Entire Bucket\""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>To verify that the my-catalog.xml file was successfully uploaded, use the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ aws s3 ls s3://cdf-bucket/catalogs/ --region us-east-1
</code></pre>
</div>

<p>This command returns a list of all catalog files currently found in the bucket:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>2015-12-07 15:02:17      10236 my-catalog.xml
2015-12-01 15:10:28        166 other-catalog.xml
</code></pre>
</div>

<h2 id="additional-resources-for-aws">Additional Resources for AWS</h2>

<p>These links provide further information on AWS and Amazon S3.</p>

<ul>
  <li><a href="http://aws.amazon.com/" title="Amazon Web Services">Amazon Web Services</a>: All AWS products</li>
  <li><a href="http://aws.amazon.com/s3/">Amazon Simple Storage Service (S3)</a>: Secure object storage</li>
  <li><a href="http://aws.amazon.com/iam/">Amazon Identity and Access Management (IAM)</a>: Define users and roles for your AWS account</li>
  <li><a href="http://aws.amazon.com/developers/getting-started/">Start Developing with AWS</a>: Documentation, SDKs, and sample apps for various languages and platforms</li>
  <li><a href="http://aws.amazon.com/cli/">AWS Command Line Interface (CLI)</a>: Simple access to AWS services</li>
  <li><a href="http://aws.amazon.com/tools/">Tools for Amazon Web Services</a>: All SDKs and sample code</li>
  <li><a href="http://aws.amazon.com/sdk-for-java/">AWS SDK For Java</a>: Integrate AWS with your Java apps</li>
  <li><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html">Amazon S3 Client</a>: Java class for accessing Amazon S3</li>
  <li><a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UploadObjSingleOpJava.html">Upload an Object Using the AWS SDK for Java</a>: Sample code for uploading your data to Amazon S3</li>
</ul>




            </div>
        </div><!--/.container-->


    </div><!--/.page-container-->
    
    <div class="footertop">
    <div class="container">
        <div class="col-md-6">
            <p></p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-6 footerleft ">
                <div class="logofooter"> About the Developer Portal</div>
                <p>The Amazon Developer Portal provides documentation for developers creating apps for the Amazon
                    appstore, including Alexa skills. Apps include streaming media apps, game apps, skills, and more. </p>

            </div>
            <div class="col-md-2 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Links</h6>
                <ul class="footer-ul">
                    <li><a class="noCrossRef" href="https://developer.amazon.com/"> Developer Portal</a></li>
                    <li><a class="noCrossRef" href="/index.html">Documentation Home</a></li>
                    <li class="noCrossRef"><a href="https://developer.amazon.com/support"> Support</a></li>
                    <li class="noCrossRef"><a href="https://aws.amazon.com/documentation/"> AWS docs</a></li>
                    <li class="noCrossRef"><a href="https://www.amazon.com/mobile-apps/b?ie=UTF8&node=2350149011"> Amazon Appstore</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Amazon News</h6>
                <ul class="footer-ul">
                    <li class="noCrossRef"><a href="https://developer.amazon.com/blogs"> Blog</a></li>
                    <li class="noCrossRef"><a href="https://www.youtube.com/channel/UCT9ApARFgQJOeqD-ygmxnJQ"> YouTube</a></li>
                    <li class="noCrossRef"><a href="https://twitter.com/AmazonAppDev"> Twitter</a></li>
                    <li class="noCrossRef"><a href="http://phx.corporate-ir.net/phoenix.zhtml?p=irol-mediahome&c=176060"> Amazon Press Room</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Forums</h6>
                <ul class="footer-ul">
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/23/index.html"> Alexa Skills Kit</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/33/index.html"> Smart Home Skill API</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/38/index.html"> Alexa Voice Service</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/167/index.html"> Appstore</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/12/index.html"> Underground</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/166/index.html"> Fire Devices</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/61/index.html"> Dash</a></li>
                </ul>
            </div>
        </div>
    </div>
    </div>
</footer>
<!--subfooter start from here -->

<div class="copyright">
    <div class="container">
        <div class="col-md-12">
            <p>© 1996-2017, Amazon.com, Inc. or its affiliates</p>
        </div>
    </div>
</div>

    
    <!--scripts loaded here-->



</body>

</html>
